<!DOCTYPE html>
<html>
<head>
    <title>Tempura Trade Rate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            color: #333;
            overflow-x: hidden; /* Prevent horizontal scrollbar due to animations */
        }
        .container {
            width: 100%; /* Full width on all devices */
            margin: 0 auto;
            padding: 10px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
        }
        h1 {
            text-align: center;
            color: #333;
            font-size: 2em; /* Adjusted for mobile */
            font-weight: bold;
            margin-bottom: 0;
        }
        h1 span {
            color: #4CAF50;
        }
        h2 {
            text-align: center;
            margin-bottom: 10px;
            color: #333;
            font-size: 1.2em; /* Adjusted for mobile */
        }
        .subtitle {
            text-align: center;
            font-size: 1em; /* Adjusted for mobile */
            margin-top: 0;
        }
        .trade-container {
            display: flex;
            flex-wrap: wrap; /* Allow wrapping for smaller screens */
            justify-content: space-around;
            margin-top: 20px;
        }
        .trade-column {
            flex: 1;
            padding: 5px; /* Adjusted for mobile */
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 5px; /* Adjusted for mobile */
            min-width: 45%; /* Ensure two columns on smaller screens */
        }
        .slot {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 5px;
            border-radius: 5px;
            text-align: center;
            min-height: 30px; /* Adjusted for mobile */
            line-height: 30px; /* Adjusted for mobile */
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.9em; /* Adjusted for mobile */
        }
        .slot:hover {
            background-color: #e0e0e0;
        }
        .selected {
            background-color: #4CAF50;
            color: white;
        }
        .trade-button {
            display: block;
            width: 95%; /* Adjusted for mobile */
            padding: 10px;
            margin: 10px auto;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1em; /* Adjusted for mobile */
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .trade-button:hover {
            background-color: #367c39;
        }
        .result {
            text-align: center;
            font-size: 1.1em; /* Adjusted for mobile */
            margin-top: 10px;
        }
        .win {
            color: green;
        }
        .lose {
            color: red;
        }
        .fair {
            color: orange;
        }
        .hidden {
            display: none;
        }
        .item-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }
        .item-button {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            padding: 5px 10px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            color: black; /* Set text color to black */
            font-size: 0.9em;
        }
        .item-button:hover {
            background-color: #e0e0e0;
        }
        .item-selected {
            background-color: #4CAF50;
            color: white;
        }
        .item-search {
            display: block;
            width: calc(95% - 22px);
            padding: 10px;
            margin: 20px auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }
        .category-container {
            display: flex;
            justify-content: center;
            margin: 10px;
        }
        .category-button {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            padding: 10px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1em;
        }
        .category-button:hover {
            background-color: #e0e0e0;
        }
        .category-selected {
            background-color: #4CAF50;
            color: white;
        }
        /* Animations */
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }

        .float {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .rotate {
            animation: rotate 5s linear infinite;
        }

        @keyframes color-change {
            0% { background-color: #f44336; }
            25% { background-color: #ff9800; }
            50% { background-color: #ffeb3b; }
            75% { background-color: #4caf50; }
            100% { background-color: #2196f3; }
        }

        .color-change {
            animation: color-change 10s linear infinite;
        }
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            display: none;
        }
        .circle {
            position: absolute;
            border-radius: 50%;
            opacity: 0.3;
        }

        .circle-1 {
            width: 100px;
            height: 100px;
            background-color: #f44336;
            top: 10%;
            left: 10%;
            animation: float 5s ease-in-out infinite, color-change 10s linear infinite;
        }

        .circle-2 {
            width: 150px;
            height: 150px;
            background-color: #2196f3;
            bottom: 20%;
            right: 15%;
            animation: float 7s ease-in-out infinite, color-change 8s linear infinite reverse;
        }

        .circle-3 {
            width: 80px;
            height: 80px;
            background-color: #4caf50;
            top: 50%;
            left: 70%;
            animation: float 4s ease-in-out infinite, color-change 9s linear infinite;
        }
        .item-button.fruit { background-color: #ffd700; } /* Gold */
        .item-button.gamepass { background-color: #c0c0c0; } /* Silver */
        .item-button.perm { background-color: #b87333; } /* Bronze */

        .clear-buttons-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-top: 10px;
        }
        .clear-button {
            padding: 5px 10px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.9em;
            margin: 2px;
        }
        .clear-button:hover {
            background-color: #d32f2f;
        }
        .discord-button {
            display: block;
            width: 95%;
            padding: 10px;
            margin: 10px auto;
            background-color: #7289da;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: background-color 0.3s;
        }

        .discord-button:hover {
            background-color: #677bc4;
        }
        /* Media Queries for Mobile Devices */
        @media only screen and (max-width: 480px) {
            .background-animation {
                display: block;
            }
            h1 {
                font-size: 1.8em; /* Further reduced for very small screens */
            }
            h2 {
                font-size: 1.1em; /* Further reduced for very small screens */
            }
            .subtitle {
                font-size: 0.9em; /* Further reduced for very small screens */
            }
            .trade-column {
                min-width: 95%; /* Single column layout for very small screens */
                margin: 5px 0; /* Adjusted margin for single column */
            }
            .slot {
                min-height: 25px; /* Further reduced for very small screens */
                line-height: 25px; /* Further reduced for very small screens */
                font-size: 0.8em; /* Further reduced for very small screens */
            }
            .item-button {
                font-size: 0.8em; /* Further reduced for very small screens */
            }
            .category-button {
                font-size: 0.9em; /* Further reduced for very small screens */
            }
            .clear-button {
                font-size: 0.8em; /* Further reduced for very small screens */
                margin: 2px 0;
            }
            .discord-button {
                font-size: 0.9em; /* Further reduced for very small screens */
            }
            .item-search {
                font-size: 0.9em;
                width: calc(90% - 22px);
            }
        }
    </style>
</head>
<body>
    <div class="background-animation">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
        <div class="circle circle-3"></div>
    </div>
    <div class="container">
        <h1><span>Tempura</span></h1>
        <p class="subtitle">Trade Rate</p>

        <input type="text" id="itemSearch" class="item-search" placeholder="Search for items..." onkeyup="filterItems()">
        <div class="category-container">
            <button class="category-button category-selected" id="category-all" onclick="filterCategory('blox-fruits')">Blox Fruits</button>
        </div>
        <div class="trade-container">
            <div class="trade-column">
                <h2>Your Items</h2>
                <div class="slot" id="yourSlot1" onclick="selectSlot('yourSlot1')"></div>
                <div class="slot" id="yourSlot2" onclick="selectSlot('yourSlot2')"></div>
                <div class="slot" id="yourSlot3" onclick="selectSlot('yourSlot3')"></div>
                <div class="slot" id="yourSlot4" onclick="selectSlot('yourSlot4')"></div>
                <div class="clear-buttons-container">
                    <button class="clear-button" onclick="clearSlots('your')">Clear Your Slots</button>
                </div>
            </div>
            <div class="trade-column">
                <h2>Opponent's Items</h2>
                <div class="slot" id="opponentSlot1" onclick="selectSlot('opponentSlot1')"></div>
                <div class="slot" id="opponentSlot2" onclick="selectSlot('opponentSlot2')"></div>
                <div class="slot" id="opponentSlot3" onclick="selectSlot('opponentSlot3')"></div>
                <div class="slot" id="opponentSlot4" onclick="selectSlot('opponentSlot4')"></div>
                <div class="clear-buttons-container">
                    <button class="clear-button" onclick="clearSlots('opponent')">Clear Opponent Slots</button>
                </div>
            </div>
        </div>

        <button class="trade-button" onclick="calculateTrade()">Calculate Trade</button>

        <div class="result" id="tradeResult"></div>
        <div class="item-list" id="itemList"></div>
        <a href="https://discord.gg/example" class="discord-button" target="_blank">Join our Discord</a>
    </div>

    <script>
        const prices = {
            "quake": 1,
            "magma": 1.5,
            "love": 2.5,
            "spider": 2.5,
            "gravity": 3.5,
            "pain": 3.5,
            "phoenix": 10,
            "sound": 10,
            "shadow": 15,
            "blizzard": 17.5,
            "control": 30,
            "rumble": 32,
            "venom": 40,
            "portal": 41,
            "mammonth": 42.5,
            "buddha": 47.5,
            "spirit": 55,
            "trex": 100,
            "dough": 150,
            "leopard": 230,
            "kitsune": 725,
            "dragon": 975,
            "2x boss drop chance": 275,
            "fast boats": 275,
            "+1 fruit storage": 300,
            "2x money": 325,
            "2x mastery": 325,
            "dark blade": 1055,
            "fruit notifier": 2105,
            "perm rocket": 25,
            "perm spin": 50,
            "perm chop": 75,
            "perm spring": 100,
            "perm spike": 150,
            "perm smoke": 200,
            "perm bomb": 280,
            "perm falcon": 350,
            "perm fire": 400,
            "perm sand": 600,
            "perm diamond": 600,
            "perm ice": 650,
            "perm barrier": 800,
            "perm rubber": 850,
            "perm ghost": 900,
            "perm dark": 1000,
            "perm light": 1050,
            "perm magma": 1450,
            "perm buddha": 1500,
            "perm spider": 1600,
            "perm love": 1600,
            "perm sound": 1700,
            "perm phoenix": 1800,
            "perm portal": 1800,
            "perm gravity": 1900,
            "perm rumble": 1900,
            "perm blizzard": 1950,
            "perm pain": 2000,
            "perm mammoth": 2000,
            "perm trex": 2000,
            "perm venom": 2100,
            "perm shadow": 2200,
            "perm dough": 2200,
            "perm control": 2800,
            "perm spirit": 2800,
            "perm leopard": 3400,
            "perm kitsune": 4250,
            "perm dragon": 6800,
        };

        const alternative_names = {
            "quake": ["квейк", "дрожь", "дрож", "землетрясение"],
            "magma": ["магма", "лава"],
            "love": ["любовь", "лов", "лове"],
            "spider": ["нитки", "паук", "спайдер", "спидер", "string"],
            "gravity": ["гравити", "гравитация"],
            "pain": ["paw", "боль", "пейн", "лапа"],
            "phoenix": ["феникс", "птица феникс", "feniks", "fenix", "пхоеникс"],
            "sound": ["звук", "саунд", "соунд"],
            "shadow": ["тень", "шадоу", "шадов"],
            "blizzard": ["метель", "буря", "снег", "близард", "близзард", "blizard"],
            "control": ["контроль", "контрол", "кантроль"],
            "rumble": ["рамбл", "румбл", "электричество", "ramble", "rumbl"],
            "venom": ["веном", "венам", "винам", "яд", "отрава"],
            "portal": ["портал", "портл", "door", "дверь"],
            "mammonth": ["мамонт", "mamont", "mammont"],
            "buddha": ["budha", "budda", "buda", "буда", "будда"],
            "spirit": ["спирит", "дух", "соул", "душа", "soul", "духи"],
            "trex": ["трекс", "t-rex", "т рекс", "т-рекс", "динозавр", "ти рекс", "тирекс"],
        };
        const categories = {
            "blox-fruits": [
                "quake", "magma", "love", "spider", "gravity", "pain", "phoenix", "sound",
                "shadow", "blizzard", "control", "rumble", "venom", "portal", "mammonth",
                "buddha", "spirit", "trex", "dough", "leopard", "kitsune", "dragon",
                "2x boss drop chance", "fast boats", "+1 fruit storage", "2x money", "2x mastery",
                "dark blade", "fruit notifier", "perm rocket", "perm spin", "perm chop",
                "perm spring", "perm spike", "perm smoke", "perm bomb", "perm falcon",
                "perm fire", "perm sand", "perm diamond", "perm ice", "perm barrier",
                "perm rubber", "perm ghost", "perm dark", "perm light", "perm magma",
                "perm buddha", "perm spider", "perm love", "perm sound", "perm phoenix",
                "perm portal", "perm gravity", "perm rumble", "perm blizzard", "perm pain",
                "perm mammoth", "perm trex", "perm venom", "perm shadow", "perm dough",
                "perm control", "perm spirit", "perm leopard", "perm kitsune", "perm dragon"
            ]
        };
        let selectedSlot = null;
        let selectedItems = {};
        let currentCategory = 'blox-fruits';

        function selectSlot(slotId) {
            if (selectedSlot) {
                document.getElementById(selectedSlot).classList.remove('selected');
            }
            selectedSlot = slotId;
            document.getElementById(selectedSlot).classList.add('selected');
        }

        function addItemToSlot(itemName) {
            if (selectedSlot) {
                selectedItems[selectedSlot] = [itemName];
                document.getElementById(selectedSlot).textContent = itemName;
            }
        }

        function createItemButtons() {
            const itemList = document.getElementById('itemList');
            itemList.innerHTML = ''; // Clear existing buttons

            for (const item in prices) {
                const button = document.createElement('button');
                button.classList.add('item-button');
                button.textContent = item;
                button.setAttribute('data-item-name', item);
                button.onclick = () => {
                    addItemToSlot(item);
                };

                // Add category class
                if (categories[currentCategory].includes(item)) {
                  button.style.display = 'block'
                } else {
                  button.style.display = 'none'
                }
                if (categories["blox-fruits"].includes(item)) {
                    if (prices[item] >= 25 && prices[item] <= 6800 ) {
                      button.classList.add('perm');
                    } else if (prices[item] >= 275 && prices[item] <= 325 ) {
                      button.classList.add('gamepass');
                    } else {
                      button.classList.add('fruit');
                    }
                }

                itemList.appendChild(button);
            }
        }

        function calculateTrade() {
            let yourTotal = 0;
            let opponentTotal = 0;

            for (let i = 1; i <= 4; i++) {
                let yourSlotItem = selectedItems['yourSlot' + i] ? selectedItems['yourSlot' + i][0] : null;
                let opponentSlotItem = selectedItems['opponentSlot' + i] ? selectedItems['opponentSlot' + i][0] : null;

                yourTotal += yourSlotItem ? prices[yourSlotItem] : 0;
                opponentTotal += opponentSlotItem ? prices[opponentSlotItem] : 0;
            }

            const resultDiv = document.getElementById('tradeResult');
            let resultText = '';
            if (yourTotal < opponentTotal) {
                resultText = '<span class="win">Win! (Ты в плюсе)</span>';
            } else if (yourTotal > opponentTotal) {
                resultText = '<span class="lose">Lose! (Ты в минусе)</span>';
            } else {
                resultText = '<span class="fair">F (Ничья)</span>';
            }
            resultDiv.innerHTML = resultText;
        }

        function filterItems() {
            const searchText = document.getElementById('itemSearch').value.toLowerCase();
            const buttons = document.querySelectorAll('.item-button');

            buttons.forEach(button => {
                const itemName = button.getAttribute('data-item-name');
                const itemAliases = alternative_names[itemName] || [];
                const matches = [itemName, ...itemAliases].some(name => name.toLowerCase().includes(searchText));

                button.style.display = matches && categories[currentCategory].includes(itemName) ? 'block' : 'none';

            });
        }

        function filterCategory(category) {
            currentCategory = category;
            // Update category button styles
            document.querySelectorAll('.category-button').forEach(button => {
                button.classList.remove('category-selected');
            });
            document.getElementById('category-' + category).classList.add('category-selected');
            // Filter items
            filterItems();
        }

        function clearSlots(side) {
            for (let i = 1; i <= 4; i++) {
                selectedItems[side + 'Slot' + i] = [];
                document.getElementById(side + 'Slot' + i).textContent = '';
            }
        }

        createItemButtons();
    </script>
</body>
</html>